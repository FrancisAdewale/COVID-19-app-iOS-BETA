//
//  Environment.swift
//  Sonar
//
//  Created by NHSX on 4/23/20.
//  Copyright Â© 2020 NHSX. All rights reserved.
//

import Foundation
import CoreBluetooth

struct Environment {
    struct Debug {
        let registrationId: String
        let registrationSecretKey: String
        let registrationBroadcastRotationKey: String
    }

    static let apiEndpoint = "<%= api_endpoint %>"
    static let sonarHeaderValue = "<%= sonar_header_value %>"
    static let sonarServiceUUID = CBUUID(string: "<%= sonar_service_uuid %>")
    static let sonarIdCharacteristicUUID = CBUUID(string: "<%= sonar_id_characteristic_uuid %>")
    static let keepaliveCharacteristicUUID = CBUUID(string: "<%= sonar_keepalive_characteristic_uuid %>")

    <% if defined? debug %>
    static let debug: Debug? = Debug(
        registrationId: "<%= debug.fetch("registration_id") %>",
        registrationSecretKey: "<%= debug.fetch("registration_secret_key") %>",
        registrationBroadcastRotationKey: "<%= debug.fetch("registration_broadcast_rotation_key") %>"
    )
    <% else %>
    static let debug: Debug? = nil
    <% end %>
}
